package com.dalogin;

/**
 * @author George Gaspar
 * @email: igeorge1982@gmail.com 
 * 
 * @Year: 2015
 */

import java.io.*;
import java.util.HashMap;

import javax.servlet.*;
import javax.servlet.http.*;

import org.json.JSONArray;
import org.json.JSONObject;

public class RegActivation extends HttpServlet {
    
	private volatile static String voucher;
	private volatile static String user;
	private volatile static String token2;
	
	/**
    *
    */
    private static final long serialVersionUID = 1L;
	

    public void init() throws ServletException
    {
    	
    }
    
    public synchronized void processRequest (HttpServletRequest request, HttpServletResponse response)
    	    throws ServletException, IOException {
    	
    }
    
    public synchronized void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException
    { 	
        
    }
    
    public synchronized void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException
    {
		response.setContentType("application/json"); 
		response.setCharacterEncoding("utf-8"); 

		voucher = request.getParameter("voucher");
		user = request.getParameter("user");
		token2 = request.getParameter("token2");
				
		PrintWriter out = response.getWriter(); 
		HashMap<String, String> map = new HashMap<>();
		
		map.put("voucher", voucher);
		map.put("user", user);
		map.put("token2", token2);

		JSONObject json = new JSONObject(); 
		JSONArray list = new JSONArray();
		list.put(map);
		json.put("activation", list);
		
		out.print(json.toString());
		out.flush();
    	
    }
    
    public void destroy()
    {
        // do nothing.
    }
}
